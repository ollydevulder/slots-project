{% extends 'base.html' %}
{% load static %}
{% block css %}{% static 'slots/css/shops.css' %}{% endblock  %}

{% block title %}{{ shop.name }}{% endblock %}

{% block header %}{{ shop.name }}{% endblock %}

{% block content %}
    {% if owns %}
        <p>You have already booked a slot for this shop. To change this go <a href="{% url 'slots:slots' %}">here</a>.</p>
    {% endif %}
    <div class="container slot-container">
        {% for slot in shop.ordered_slots %}
            {% if slot.user == user %}
                <a class="slot owns" title="You have booked this slot." href="{% url 'slots:slots' %}">
            {% elif slot.user %}
                <a class="slot taken noclick" title="This slot is taken.">
            {% else %}
                <a class="slot{% if owns %} noclick{% endif %}" title="Book this slot." {% if not owns %}href="{% url 'slots:manage-slot' method='book' shop=slot.shop.pk slot=slot.position %}"{% endif %}>
            {% endif %}
            {{ slot.position|add:1 }}
            </a>
        {% endfor %}
    </div>
{% endblock %}